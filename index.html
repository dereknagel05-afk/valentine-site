<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>One Question ðŸ’Œ</title>
  <style>
    :root {
      --bg1: #0b1220;
      --bg2: #1b0b1e;
      --card: rgba(255,255,255,0.08);
      --card2: rgba(255,255,255,0.12);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --yes: #ff4d8d;
      --no: rgba(255,255,255,0.18);
      --shadow: 0 18px 50px rgba(0,0,0,0.45);
      --radius: 22px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color: var(--text);
      background: radial-gradient(1200px 700px at 20% 10%, #2b1b55 0%, transparent 60%),
                  radial-gradient(900px 600px at 80% 20%, #5a1432 0%, transparent 55%),
                  linear-gradient(145deg, var(--bg1), var(--bg2));
      display: grid;
      place-items: center;
      padding: 20px;
      overflow: hidden;
    }

    .card {
      width: min(720px, 96vw);
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,0.05));
      border: 1px solid rgba(255,255,255,0.14);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px;
      position: relative;
      backdrop-filter: blur(10px);
    }

    .topline {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 18px;
    }

    .pill {
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.75);
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
      padding: 8px 12px;
      border-radius: 999px;
    }

    h1 {
      margin: 8px 0 8px;
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1.08;
    }
    p {
      margin: 0 0 18px;
      color: var(--muted);
      font-size: clamp(14px, 2.2vw, 18px);
      line-height: 1.55;
    }

    .progress {
      height: 10px;
      background: rgba(255,255,255,0.08);
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.12);
      margin: 14px 0 22px;
    }
    .bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #ff4d8d, #ffcf5a);
      border-radius: 999px;
      transition: width 500ms ease;
    }

    .choices {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 12px;
    }

    button {
      appearance: none;
      border: none;
      cursor: pointer;
      color: var(--text);
      font-weight: 650;
      border-radius: 14px;
      padding: 12px 14px;
      font-size: 16px;
      transition: transform 120ms ease, background 200ms ease, border 200ms ease;
      user-select: none;
      position: relative;
    }
    button:active { transform: scale(0.98); }

    .btn-ghost {
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.16);
    }
    .btn-ghost:hover { background: rgba(255,255,255,0.14); }

    .btn-yes {
      background: linear-gradient(135deg, #ff4d8d, #ff1f62);
      box-shadow: 0 10px 26px rgba(255, 77, 141, 0.28);
    }
    .btn-yes:hover { transform: translateY(-1px); }

    .final {
      margin-top: 18px;
      padding: 18px;
      border-radius: 18px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.14);
    }

    .arena {
      position: relative;
      min-height: 74px;
      margin-top: 12px;
      border-radius: 18px;
      background: rgba(255,255,255,0.05);
      border: 1px dashed rgba(255,255,255,0.16);
      overflow: hidden;
      padding: 14px;
    }

    .btn-no {
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.16);
      position: absolute;
      left: 14px;
      top: 14px;
    }

    .tiny {
      font-size: 13px;
      color: rgba(255,255,255,0.65);
      margin-top: 10px;
    }

    /* confetti */
    .confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }
    .piece {
      position: absolute;
      width: 10px;
      height: 14px;
      top: -20px;
      opacity: 0.9;
      transform: rotate(0deg);
      animation: fall linear forwards;
    }
    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(720deg);
      }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="topline">
      <div class="pill" id="stepPill">Step 1 of 4</div>
      <div class="pill" id="hintPill">tap a button</div>
    </div>

    <h1 id="title">I have a tiny question ðŸ’Œ</h1>
    <p id="subtitle">Before I ask itâ€¦ can I get a quick vibe check?</p>

    <div class="progress" aria-label="progress">
      <div class="bar" id="bar"></div>
    </div>

    <div class="choices" id="choices"></div>

    <div class="final" id="final" style="display:none;">
      <h1 style="margin-top:0;" id="finalTitle">Okayâ€¦ here it is ðŸ˜³</h1>
      <p id="finalText">Will you be my Valentine?</p>

      <div class="arena" id="arena">
        <button class="btn-yes" id="yesBtn">YES ðŸ’˜</button>
        <button class="btn-no" id="noBtn">no ðŸ™ƒ</button>
      </div>

      <div class="tiny" id="tinyNote">P.S. I made this just for you.</div>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    // ---- Customize these quickly ----
    const girlfriendName = "my favorite human"; // change to her name
    const yourName = "â€” from me"; // change to your name
    const insideJoke = "the way you laugh when something surprises you"; // optional

    const steps = [
      {
        title: "I have a tiny question ðŸ’Œ",
        subtitle: "Before I ask itâ€¦ can I get a quick vibe check?",
        options: [
          { text: "Iâ€™m curious ðŸ˜Œ", next: 1 },
          { text: "Iâ€™m suspicious ðŸ¤¨", next: 1 },
          { text: "Iâ€™m already smiling ðŸ™‚", next: 1 }
        ]
      },
      {
        title: "Important survey",
        subtitle: "Choose the option that describes us best:",
        options: [
          { text: "cute + chaotic", next: 2 },
          { text: "sweet + steady", next: 2 },
          { text: "best friends + more", next: 2 }
        ]
      },
      {
        title: "One more thing",
        subtitle: `Whatâ€™s your love language today, ${girlfriendName}?`,
        options: [
          { text: "Words ðŸ’¬", next: 3 },
          { text: "Quality time â³", next: 3 },
          { text: "Snacks ðŸ“", next: 3 }
        ]
      },
      {
        title: "Final warm-up",
        subtitle: `If I said I love ${insideJoke}â€¦ would you believe me?`,
        options: [
          { text: "Yes, obviously ðŸ˜­", next: "final" },
          { text: "Prove it ðŸ˜", next: "final" },
          { text: "Maybeâ€¦ ðŸ¤­", next: "final" }
        ]
      }
    ];

    const choicesEl = document.getElementById("choices");
    const titleEl = document.getElementById("title");
    const subtitleEl = document.getElementById("subtitle");
    const barEl = document.getElementById("bar");
    const stepPill = document.getElementById("stepPill");
    const hintPill = document.getElementById("hintPill");
    const finalEl = document.getElementById("final");
    const finalTitle = document.getElementById("finalTitle");
    const finalText = document.getElementById("finalText");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const arena = document.getElementById("arena");
    const tinyNote = document.getElementById("tinyNote");
    const confettiEl = document.getElementById("confetti");

    let stepIndex = 0;

    function setStep(i) {
      stepIndex = i;
      const step = steps[i];

      stepPill.textContent = `Step ${i+1} of ${steps.length}`;
      hintPill.textContent = "tap a button";

      titleEl.textContent = step.title;
      subtitleEl.textContent = step.subtitle;

      const pct = Math.round((i / (steps.length)) * 100);
      barEl.style.width = pct + "%";

      choicesEl.innerHTML = "";
      step.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "btn-ghost";
        btn.textContent = opt.text;
        btn.addEventListener("click", () => {
          if (opt.next === "final") showFinal();
          else setStep(opt.next);
        });
        choicesEl.appendChild(btn);
      });
    }

    function showFinal() {
      barEl.style.width = "100%";
      hintPill.textContent = "important question";

      finalEl.style.display = "block";
      choicesEl.innerHTML = "";

      finalTitle.textContent = `Okayâ€¦ here it is ðŸ˜³`;
      finalText.textContent = `${girlfriendName}, will you be my Valentine?`;

      tinyNote.textContent = `${yourName}`;

      // place "no" somewhere not annoying at start
      placeNoButtonRandom();
    }

    function placeNoButtonRandom() {
      const padding = 12;
      const rect = arena.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = rect.width - btnRect.width - padding;
      const maxY = rect.height - btnRect.height - padding;

      const x = Math.max(padding, Math.floor(Math.random() * maxX));
      const y = Math.max(padding, Math.floor(Math.random() * maxY));

      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
    }

    // playful dodge
    let noCount = 0;
    function dodge() {
      noCount++;
      placeNoButtonRandom();

      const phrases = [
        "wait no",
        "are you sure ðŸ¤¨",
        "that seems incorrect",
        "try again ðŸ™ƒ",
        "I respectfully disagree",
        "be serious ðŸ˜­"
      ];
      hintPill.textContent = phrases[Math.min(noCount, phrases.length-1)];
    }

    noBtn.addEventListener("mouseenter", dodge);
    noBtn.addEventListener("click", dodge);

    yesBtn.addEventListener("click", () => {
      hintPill.textContent = "YAYYYYY ðŸ’˜";
      finalTitle.textContent = "You just made my whole day.";
      finalText.textContent = "Happy Valentineâ€™s Day ðŸ¥¹ðŸ’ž";
      yesBtn.textContent = "OKAY KISS ME";
      yesBtn.style.transform = "scale(1.02)";
      noBtn.style.display = "none";
      launchConfetti(140);
    });

    function launchConfetti(count) {
      confettiEl.innerHTML = "";
      const colors = ["#ff4d8d", "#ffcf5a", "#7ee7ff", "#b7ff9e", "#ffffff"];

      for (let i = 0; i < count; i++) {
        const d = document.createElement("div");
        d.className = "piece";
        const sizeW = 6 + Math.random() * 10;
        const sizeH = 8 + Math.random() * 16;
        d.style.width = sizeW + "px";
        d.style.height = sizeH + "px";
        d.style.left = (Math.random() * 100) + "vw";
        d.style.background = colors[Math.floor(Math.random() * colors.length)];
        d.style.animationDuration = (2.2 + Math.random() * 2.8) + "s";
        d.style.animationDelay = (Math.random() * 0.4) + "s";
        d.style.borderRadius = (Math.random() > 0.5 ? "4px" : "999px");
        confettiEl.appendChild(d);
      }
      // auto-clear after a bit
      setTimeout(() => { confettiEl.innerHTML = ""; }, 6000);
    }

    // init
    setStep(0);
  </script>
</body>
</html>
